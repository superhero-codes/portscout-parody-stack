<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>SubSnack ‚Äî Snack Newsletter Platform</title>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }
            body {
                font-family: 'Georgia', 'Times New Roman', serif;
                background: #f7f5f0;
                color: #1a1a1a;
                min-height: 100vh;
            }
            .header {
                background: white;
                border-bottom: 1px solid #e0ddd5;
                padding: 16px 0;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            .header-inner {
                max-width: 700px;
                margin: 0 auto;
                padding: 0 20px;
                display: flex;
                align-items: center;
                justify-content: space-between;
            }
            .logo {
                font-size: 1.6rem;
                font-weight: 700;
                color: #ff6719;
                letter-spacing: -0.02em;
            }
            .logo span {
                color: #1a1a1a;
            }
            .header-actions {
                display: flex;
                gap: 12px;
                align-items: center;
            }
            .btn {
                padding: 8px 20px;
                border-radius: 20px;
                border: none;
                cursor: pointer;
                font-weight: 600;
                font-size: 14px;
                font-family: -apple-system, sans-serif;
            }
            .btn-subscribe {
                background: #ff6719;
                color: white;
            }
            .btn-signin {
                background: transparent;
                color: #1a1a1a;
            }
            .container {
                max-width: 700px;
                margin: 0 auto;
                padding: 40px 20px;
            }
            .hero {
                text-align: center;
                padding: 40px 0 60px;
                border-bottom: 1px solid #e0ddd5;
                margin-bottom: 40px;
            }
            .hero h1 {
                font-size: 2.5rem;
                font-weight: 700;
                line-height: 1.2;
                margin-bottom: 16px;
                letter-spacing: -0.02em;
            }
            .hero p {
                font-size: 1.2rem;
                color: #666;
                line-height: 1.6;
                max-width: 500px;
                margin: 0 auto 24px;
            }
            .subscribe-form {
                display: flex;
                gap: 8px;
                max-width: 400px;
                margin: 0 auto;
            }
            .subscribe-form input {
                flex: 1;
                padding: 12px 16px;
                border: 1px solid #ddd;
                border-radius: 6px;
                font-size: 15px;
                font-family: -apple-system, sans-serif;
            }
            .subscribe-form button {
                padding: 12px 24px;
                background: #ff6719;
                color: white;
                border: none;
                border-radius: 6px;
                font-weight: 600;
                cursor: pointer;
                font-size: 15px;
                font-family: -apple-system, sans-serif;
            }
            .post {
                padding: 32px 0;
                border-bottom: 1px solid #e0ddd5;
            }
            .post-meta {
                display: flex;
                align-items: center;
                gap: 8px;
                margin-bottom: 12px;
                font-family: -apple-system, sans-serif;
            }
            .post-author {
                font-size: 14px;
                font-weight: 600;
                color: #1a1a1a;
            }
            .post-date {
                font-size: 13px;
                color: #999;
            }
            .post h2 {
                font-size: 1.5rem;
                font-weight: 700;
                line-height: 1.3;
                margin-bottom: 8px;
                cursor: pointer;
            }
            .post h2:hover {
                color: #ff6719;
            }
            .post-excerpt {
                font-size: 1.05rem;
                color: #555;
                line-height: 1.6;
                margin-bottom: 12px;
            }
            .post-footer {
                display: flex;
                align-items: center;
                gap: 16px;
                font-family: -apple-system, sans-serif;
                font-size: 13px;
                color: #999;
            }
            .post-footer .likes {
                cursor: pointer;
            }
            .post-footer .likes:hover {
                color: #ff6719;
            }
            .badge-paid {
                display: inline-block;
                padding: 2px 8px;
                background: #fff3e0;
                color: #ff6719;
                border-radius: 4px;
                font-size: 11px;
                font-weight: 600;
                font-family: -apple-system, sans-serif;
                margin-left: 8px;
            }
            .badge-free {
                display: inline-block;
                padding: 2px 8px;
                background: #e8f5e9;
                color: #2e7d32;
                border-radius: 4px;
                font-size: 11px;
                font-weight: 600;
                font-family: -apple-system, sans-serif;
                margin-left: 8px;
            }
            .footer-attr {
                text-align: center;
                padding: 40px 20px;
                color: #999;
                font-size: 12px;
                font-family: -apple-system, sans-serif;
            }
            .footer-attr a {
                color: #ff6719;
                text-decoration: none;
            }
        </style>
    </head>
    <body>
        <div class="header">
            <div class="header-inner">
                <div class="logo">Sub<span>Snack</span> ü•®</div>
                <div class="header-actions">
                    <button class="btn btn-signin">Sign in</button>
                    <button class="btn btn-subscribe">Get started</button>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="hero">
                <h1>Snack opinions, delivered to your inbox.</h1>
                <p>The world's most important newsletter platform for snack reviews, chip discourse, and pretzel philosophy.</p>
                <div class="subscribe-form">
                    <input type="email" placeholder="your@email.com">
                    <button onclick="alert('You\'re now subscribed to SubSnack! Prepare for 47 emails about pretzels.')">Subscribe</button>
                </div>
            </div>

            <div id="feed"></div>
        </div>

        <div class="footer-attr">
        Part of the <a href="https://github.com/superhero-codes/portscout-parody-stack">PortScout Parody Stack</a> ¬∑ 
        Nested 6 levels deep, just like our editorial process
    </div>

        <script>
            async function loadNewsletters() {
                try {
                    const res = await fetch('/api/newsletters');
                    const posts = await res.json();
                    const feed = document.getElementById('feed');

                    feed.innerHTML = posts
                        .map(
                            post => `
                    <div class="post">
                        <div class="post-meta">
                            <span class="post-author">${post.author}</span>
                            <span class="post-date">¬∑ ${post.date}</span>
                            ${post.free
                            ? '<span class="badge-free">FREE</span>'
                            : '<span class="badge-paid">PAID</span>'}
                        </div>
                        <h2>${post.title}</h2>
                        <div class="post-excerpt">${post.excerpt}</div>
                        <div class="post-footer">
                            <span class="likes">‚ù§Ô∏è ${post.likes.toLocaleString()}</span>
                            <span>üìñ ${post.readTime}</span>
                            <span>üí¨ Comments</span>
                        </div>
                    </div>
                `)
                        .join('');
                } catch (err) {
                    document
                        .getElementById('feed')
                        .innerHTML = '<p style="text-align:center;color:#999;padding:40px;">Failed to load newsletters. The server is buried too deep.</p>';
                }
            }

            loadNewsletters();
        </script>
    </body>
</html>